<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Odin's Clock</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="window">
        <div class="titlebar" ondblclick="window.windowControls.maximize()">
            <span class="title">Odin's Clock</span>

            <div class="window-controls">
                <button onclick="window.windowControls.minimize()">â€”</button>
                <button onclick="window.windowControls.maximize()">â¬œ</button>
                <button onclick="window.windowControls.close()">âœ•</button>
            </div>
        </div>

        <div class="content" id="app">
            <!-- ALWAYS VISIBLE -->
            <div class="top-section">
                <div class="clock">12:45</div>
                <div class="next-task">Next (no tasks yet)</div>
            </div>

            <!-- EXPANDABLE -->
            <div class="expandable collapsed" id="expandable">
                <div class="section scheduled-tasks">
                    <div class="scheduled-header">
                        <span>
                            <h3>Scheduled Tasks</h3>
                        </span>
                        <button id="addScheduledTaskBtn">Add Scheduled Task</button>
                    </div>

                    <div id="scheduledTasksList" class="scheduled-list">
                        <div class="scheduled-empty">No scheduled tasks yet</div>
                    </div>
                </div>

                <div class="section" id="fastingSection">
                    <h3>Intermittent Fasting</h3>
                    <div class="fasting-config">
                        <label class="fasting-field" for="fastingGapInput">
                            Gap (hours)
                            <input type="number" id="fastingGapInput" min="1" step="1" />
                        </label>
                        <div class="fasting-actions">
                            <button id="fastingSetGapBtn">Set Gap</button>
                            <button id="fastingAteBtn">I just ate!</button>
                        </div>
                        <div class="fasting-countdown" id="fastingCountdown">--:--</div>
                    </div>
                </div>
                <div class="section" id="pomodoroSection">
                    <h3>Pomodoro</h3>
                    <!-- // ðŸ… POMODORO CONFIG UI (STEP 2) -->
                    <div class="pomodoro-config">
                        <label class="pomodoro-field" for="pomodoroFocusMinutes">
                            Focus duration (minutes)
                            <input type="number" id="pomodoroFocusMinutes" min="1" value="25" />
                        </label>
                        <label class="pomodoro-field" for="pomodoroBreakMinutes">
                            Break duration (minutes)
                            <input type="number" id="pomodoroBreakMinutes" min="1" value="5" />
                        </label>
                        <label class="pomodoro-field" for="pomodoroSessions">
                            Number of sessions
                            <input type="number" id="pomodoroSessions" min="1" value="4" />
                        </label>
                        <button class="pomodoro-start-btn" id="startPomodoroBtn">Start Pomodoro</button>
                    </div>
                    <!-- ðŸ… POMODORO DONUT UI (STEP 3) -->
                    <div class="pomodoro-donut-wrapper">

                        <!-- âŒ Cancel button (left / blue circle area) -->
                        <div id="pomodoroCancelBtn" class="pomodoro-cancel-btn">
                            Cancel
                        </div>

                        <!-- ðŸ© Donut -->
                        <div class="pomodoro-donut">
                            <svg class="pomodoro-donut-svg" viewBox="0 0 160 160" aria-hidden="true">
                                <circle class="pomodoro-donut-track" cx="80" cy="80" r="68" />
                                <circle class="pomodoro-donut-ring" cx="80" cy="80" r="68" />
                            </svg>

                            <div class="pomodoro-donut-center">
                                <span class="pomodoro-donut-time" id="pomodoroTimeDisplay">25:00</span>
                                <span class="pomodoro-donut-phase" id="pomodoroPhaseLabel">IDLE</span>
                            </div>
                        </div>

                        <!-- ðŸ”¢ Session counter (right / red circle area) -->
                        <div id="pomodoroSessionDisplay" class="pomodoro-session-display">
                            <div class="session-label">Session</div>
                            <div class="session-count">1 / 4</div>
                        </div>


                    </div>

                </div>
            </div>
        </div>

        <!-- ============================= -->
        <!-- ðŸ“… SCHEDULE MODAL (STEP 2) -->
        <!-- ============================= -->
        <div id="scheduleModalOverlay" class="modal-overlay hidden">
            <div class="modal-box">
                <div class="modal-header">
                    <span>Add Scheduled Task</span>
                    <button id="closeScheduleModal">âœ•</button>
                </div>

                <div class="modal-content">
                    <div class="modal-content">

                        <div class="task-type-select">
                            <button id="dailyTaskBtn">Add Daily Task</button>
                            <button id="oneTimeTaskBtn">Add One-Time Task</button>
                        </div>

                        <div id="dailyTaskForm" class="task-form hidden">
                            <label>
                                Task Name
                                <input type="text" id="dailyTaskName" />
                            </label>

                            <label>
                                Time
                                <input type="time" id="dailyTaskTime" />
                            </label>

                            <div class="form-error hidden" id="dailyTaskError"></div>

                            <button id="saveDailyTaskBtn">Save Daily Task</button>
                        </div>


                        <div id="oneTimeTaskForm" class="task-form hidden">
                            <label>
                                Task Name
                                <input type="text" id="oneTimeTaskName" />
                            </label>

                            <label>
                                Date
                                <input type="date" id="oneTimeTaskDate" />
                            </label>

                            <label>
                                Time
                                <input type="time" id="oneTimeTaskTime" />
                            </label>

                            <div class="form-error hidden" id="oneTimeTaskError"></div>

                            <button id="saveOneTimeTaskBtn">Save One-Time Task</button>
                        </div>


                    </div>

                </div>
            </div>
        </div>


        <script src="renderer.js"></script>

    </div>
</body>

</html>
